# Programming_UrbanPlanning
This is a course material for NIT

## プログラミング演習提出課題について
### 課題の提出方法
* moodleの課題提出先から提出すること．
* オンラインテキスト形式で提出する．演習の問1から問5の課題を，それらを解いたプログラムと#で示したコメント（考察）と共に貼りつけること．

### 提出課題用プログラムファイルに記入する事項
* 学籍番号
* 名前
* 問番号

### その他注意点
* 提出されたプログラムは採点者側で実行され，正しい解答が出るかが確認される．グラフなどがきちんと出力されるようになっているかを確認してから提出すること．
* 例題等のために書いた不要なコマンドは入れないこと（授業中に書いたものは，別のファイルで保存するか，スクリプトの下部等にまとめておく）
* Install.packages関数の部分は「#」でコメントアウトしてから提出すること．

## 問題
### 問1 四則演算
以下1～4の演算を実行するプログラムを書いてください．また，結果を基に考察してください．
* (4×3)+(5×2)
* 4×(3+5)×2
* 3の3乗
* 以上の結果をもとに，Rの演算において（　）括弧が果たす役割について説明してください．

### 問2 オブジェクトと代入（付値）
オブジェクトに問1の1，2の計算結果をそれぞれ代入してください．また，代入した結果を見るため，それぞれのオブジェクト名を入力して，実行し，答えが出てくることを確認しましょう．
* オブジェクト名「x」に，(4×3)+(5×2)　の結果を代入する．
* オブジェクト名「x」に，4×(3+5)×2　の結果を代入する．
* 上記では，同じオブジェクト名に別の結果を入れてみました．このとき，オブジェクト「x」にどのようなことが生じたか，実際に試した結果から説明してください．

### 問3 ベクトル
#### 問3-1 ベクトルの生成
ベクトルを作成し，オブジェクトにそれぞれ代入しましょう．
* 要素が「1,0,0,0,1,0,0,0,1」からなるベクトルを，オブジェクト「x」に代入する．
* 要素が1のみからなる長さ9のベクトルを，オブジェクト「y」に代入する．
* 自分の「名前」と「学籍番号」からなる，要素を２つ持つベクトルを，オブジェクト「z」に代入する．

#### 問3-2 ベクトルのデータ型
typeof()関数を使って問3-1の1～3のデータ型を調べましょう．typeof関数の使い方がわからない場合はヘルプを確認すること．ヘルプは「?関数名」と入力することで閲覧することができる．今回の場合，「?typeof」で調べること．

### 問4 行列の生成と操作
以下の行列をmatrix関数を用いて作成しましょう．なお，2と3についてはrep関数を使うこと．
* 3×3の単位行列
* すべての要素が1で，10×10の行列
* 1から25までの整数を25個並べた5×5の行列
* matrix関数の第３引数に「byrow=T」を加えると何が起こるか， matrix関数のヘルプを参照しつつ説明してください．

### 問5 災害に強い都市のシミュレーション
以下のような9のエリア$i \in I$からなる仮想都市を考える．この都市の津波のリスク最小化するためには，各エリアに何人ずつ住まわせたらよいかを考えるためのモデルを作成してみよう．

#### モデルの条件
* 決定変数
    * 決定変数は，各エリア$i$の人口$x_i$とする．
* 目的関数
    * 各エリア$i$の津波浸水深$h_i$[m]は，事前に与えられているものとする．
    * 今回は，$\mathbf{h} = {1,2,3,4,7,7,8,9,10}$とする．
    * 目的は「津波浸水深$h_i$[m]×住んでいる人口$x_i$[万人]」で定義される各エリアの津波リスクの総和を取ったものを「総津波リスク」として定義し，これを最小化する．
* 制約条件
    * 財政維持のための制約条件
        * 都市の財政の維持のために全エリアを合計して100万円以上の税収を得なければならないものとする．
        * 各エリア$i$の税収$r_i$は「エリアの生産力$f_i$[万円]×人口$x_i$[万人]」で定義するものとする．
        * 今回は，$\mathbf{f} = {1,4,5,6,7,6,5,4,3}$とする．
    * 都市全体の人口に関する制約条件
        * この都市は閉じた空間であると仮定し，人口は外には出ていかないものとする．現在，この都市全体には200万人の人が住んでいる．
    * 各エリア内に住める人口の制約条件
        * 各エリアでは，地形や建築制限などの諸条件により各エリア$i$の最大居住可能人数$b_i$が決められている．
        * 今回は，$\mathbf{b} = {10,20,10,50,90,100,90,120,110}$とする．

#### 下記の手順にしたがって，都市のシミュレーションを行ってください．
* モデルの条件を基に，最適化問題を定式化してください．
* 線形計画問題を解くためのRのパッケージ「lpSolve」をインストールしてください．
* 最適解における決定変数の値を求めてください．どのエリアに何人ずつ住むことになったか，結果をコメント"#"で書いてください．
* 最適解における総津波リスクの値を出力し，その値を示してください．
* 棒グラフを使って結果を可視化してみましょう．

#### 発展課題（余裕のある人のみ）
* パラメータ$h_i, f_i, b_i,$を自由に変えてみて答えがどの様に変わるかを調べてみてください．パラメータの設定に応じて，結果がどのように変化するか，考察してください．


    
